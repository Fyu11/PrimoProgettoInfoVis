<!DOCTYPE html>
<html>
<head>
    <title>Quadrifogli</title>
	<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
	<meta content="utf-8" http-equiv="encoding">
    <script  type="text/javascript" src="lib/d3.v6.min.js"></script>
</head>
<body>
  <svg width="100%" height="400"></svg>
  <script>

    var NUM_CLOVERS = 10;
    var ANGLES = [0, 90, 180, 270];

    function drawleaf(degree, x, y){

      var svg = d3.select("svg");
      var startx = 266;
      var starty = 221;

      svg.append("path")
      .attr('d', 'M266,221c-10.49,-20.79,-56.08,-73.11,-50.09,-32.06c1.98,9.99,-17.83,1.25,-14.03,16.03c0.8,20.79,51.57,16.78,64.12,16.03Z')
      .attr('stroke', 'green')
      .attr('fill', 'green')
      .attr("transform", "translate("+x+","+y+"), rotate("+degree+" "+startx+" "+starty+")");
    }

    function drawclover(x,y){

      //va passato alla singola funzione per disegnare la foglia il valore della
      //variabile associata per usarla per determinarne la grandezza

      for (let i in ANGLES){
        drawleaf(ANGLES[i],x,y)
      }
    }

    function drawclovers(){

      //vanno estratti i dati dal json e salvati in un array di array da passare
      //alla funzione drawclover

      j=-100
      h=25
      for (i=0; i<NUM_CLOVERS/2; i++){
        drawclover(j,-100)
        drawclover(h,0)
        j+=250
        h+=250
      }

    }

    drawclovers();
  </script>

</body>
</html>
